<section id="container" ng-controller="CreateWarrantyCtrl">
    <div ng-include="'tpls/header.html'"></div>
    <div ng-include="'tpls/menu.html'"></div>
    <div id="main-content">
        <h1 ng-bind="'MPL.WARRANTY_BOM' | translate"></h1>
        <form class="form-validate form-validate" name="add_warranty_form" method="get" novalidate
              ng-submit="submitForm(add_warranty_form)" dirty-form>
            <div class="base-box">
                <h2 ng-bind="'WARRANTY.ITEM_INFO' | translate"></h2>

                <div class="ipt-item flexbox">
                    <div class="fex1 mr50">
                        <div class="flexbox mr-l">
                            <label class="red">*<span ng-bind="'WARRANTY.ITEM_NUMBER' | translate"></span></label>
                            <i class="icon-search add-btn icon-color" ng-click="destination_in_lov(1)"></i>
                            <i class="icon-remove-sign icon-color"></i>
                            <input type="text" required name="destination_in" class="form-control"
                                   ng-model="item_number" readonly select3=""
                                   ng-class="{'bd-red':submitted && add_order_form.destination_in.$invalid ||!organization_id && notSelectedDes}">

                        </div>
                    </div>
                    <div class="fex1">
                        <div class="flexbox mr-l">
                            <label ng-bind="'WARRANTY.ITEM_DESCRIPTION' | translate"></label>
                            <input type="text" ng-model="description" requied class="form-control fex1" readonly>
                        </div>
                    </div>
                </div>

                <div class="ipt-item flexbox">
                    <div class="fex1 mr50">
                        <div class="flexbox mr-l">
                            <label ng-bind="'WARRANTY.UOM' | translate"></label>
                            <input type="text" ng-model="uom" class="form-control fex1" not-allow>
                        </div>
                    </div>
                    <div class="fex1">
                    </div>
                </div>

                <h2 class="flexbox">
                    <div ng-bind="'WARRANTY.COMPONENT_INFO' | translate" style="line-height: 30px">

                    </div>
                    <button type="button" class="btn btn-primary ml15  btn-large" ng-click="newItem(arr)">
                        <span ng-bind="'WARRANTY.ADD_COMPONENT' | translate" class="ng-binding"></span>
                    </button>
                </h2>

                <div class="mb12 ml15 mr15">
                    <table id="parts-table"
                           class="table table-striped table-bordered table-hover text-center table-search table-condensed">
                        <tr role="row" class="active">
                            <th  role="columnheader"><span
                                    ng-bind="'WARRANTY.ITEM_SEQ' | translate"></span></th>
                            <th  role="columnheader" style="width: 330px;"><span
                                    ng-bind="'WARRANTY.COMPONENT' | translate"></span></th>
                            <th  role="columnheader"><span
                                    ng-bind="'WARRANTY.ITEM_DESCRIPTION' | translate"></span></th>
                            <th  role="columnheader"><span
                                    ng-bind="'WARRANTY.UOM' | translate"></span></th>
                            <th  role="columnheader"><span
                                    ng-bind="'WARRANTY.QUANTITY' | translate"></span></th>
                        </tr>
                        <tr class="trtd">
                            <td>
                                <ng-form>
                                    <input type="text" class="form-control fex1  bno"
                                           ng-model="$parent.arr[$index].item_seq">
                                </ng-form>
                            </td>
                            <td>
                                <ng-form name="nform">
                                    <div class="ipt-item" style="padding: 0;">
                                        <div class="fex1 zz">
                                            <div class="flexbox zz">
                                                <i class="icon-search add-btn icon-color"
                                                   ng-click="itemLov(1,$index)"></i>
                                                {{lov}}
                                                <input type="text" ng-model="$parent.arr[$index].item_number"
                                                       name="item_number"
                                                       class="form-control fex1 ng-isolate-scope ng-pristine ng-valid notAllow"
                                                       select3=""
                                                       not-allow="" readonly="readonly" required
                                                       ng-class="{'bd-red':submitted && nform.item_number.$invalid}">
                                            </div>
                                        </div>
                                    </div>
                                </ng-form>
                            </td>
                            <td>
                                <ng-form>
                                    <input type="text" class="form-control fex1 notAllow bno"
                                           ng-model="$parent.arr[$index].description" readonly>
                                </ng-form>
                            </td>
                            <td>
                                <ng-form>
                                    <input type="text" class="form-control fex1 notAllow bno"
                                           ng-model="$parent.arr[$index].uom_code">
                                </ng-form>
                            </td>
                            <td>
                                <ng-form name="qform">
                                    <input type="number" class="form-control fex1" ng-model="$parent.arr[$index].quantity"
                                           ng-blur="getV(arr,$index)" name="quantity">
                                </ng-form>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="flexbox  mt10">
                    <div class="fex1"></div>
                    <div class="mr15 mt20">
                        <button type="submit" class="btn btn-primary mr5 fts16  btn-large"
                                ng-bind="'PUBLIC.Submit' | translate"></button>
                        <a class="btn btn-default btn-large mr50" back-button=""><span
                                ng-bind="'PUBLIC.Cancel' | translate" ng-bind="'PUBLIC.Cancel'"></span></a>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>

